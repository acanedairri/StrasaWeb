<zk>
	<window apply="org.zkoss.bind.BindComposer"
		viewModel="@id('vm') @init('org.strasa.web.uploadstudy.view.model.DefineStudySite')">
		<columnlayout>
			<columnchildren width="65%">
				<grid height="350px" model="@load(vm.sites)"
					emptyMessage="No study site found.">
					<columns>
						<column label="Site Name" />
						<column label="Site Location" />
						<column label="Ecotype" />
						<column label="Soil Type" />
						<column label="Soil PH" />
					</columns>
					<template name="model">
						<row>
							<toolbarbutton label="@load(each.sitename)" width="99%" onClick="@command('updateDesignInfo', id=each.id)"/>
							<textbox value="@bind(each.sitelocation)" width="99%" />
							<combobox model="@load(vm.ecotypes)" width="99%">
								<template name="model">
									<comboitem value="@load(each.ecotype)" label="@load(each.ecotype)" />
								</template>
							</combobox>
							<textbox value="@bind(each.soiltype)" width="99%"/>
							<textbox value="@bind(each.soilph)" width="99%"/>
						</row>
					</template>
				</grid>
			</columnchildren>
			<columnchildren width="35%">
				<groupbox width="99%">
					<caption label="Agronomy and Design Information" />
					<grid vflex="1">
						<columns>
							<column />
							<column />
						</columns>
						<rows>
							<row>
								Planting Type:
								<hlayout>
									<listbox
										onSelect="db.setFormat(self.selectedItem.value)" mold="select"
										rows="1">
										<listitem label="Type A"
											value="a" />
										<listitem label="Type B"
											value="b" />
										<listitem label="Type C"
											value="c" />
									</listbox>
								</hlayout>
							</row>
							<row>
								Sowing Date:
								<datebox id="dbSowing" width="99%" />
							</row>
							<row>
								Harvest Date:
								<datebox id="dbHarvest" width="99%" />
							</row>
							<row>
								Fertilization:
								<textbox width="99%" />
							</row>
							<row>
								Density:
								<decimalbox format="###.##"
									value="154.32" width="99%" />
							</row>
							<row>
								Treatment Structure:
								<intbox constraint="no negative,no zero"
									width="99%" value="12345678" />
							</row>
							<row>
								Plot Size:
								<decimalbox format="###.##"
									value="154.32" width="99%" />
							</row>
						</rows>
					</grid>
					<button label="NEXT"  onClick="@global-command('sampleCommand',model=vm)"></button>
				</groupbox>
			</columnchildren>
		</columnlayout>
	</window>
</zk>